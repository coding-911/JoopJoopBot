# JoopJoop 프로젝트 아키텍처

## 1. 시스템 개요

JoopJoop은 금융 데이터 수집, 분석, 시각화를 위한 통합 플랫폼입니다. 마이크로서비스 아키텍처를 기반으로 하여 각 컴포넌트가 독립적으로 동작하며, Docker 컨테이너를 통해 배포됩니다.

## 2. 핵심 컴포넌트

### 2.1 API 서버 (Backend)
- FastAPI 기반의 RESTful API 서버
- 데이터 조회, 분석, 처리 기능 제공
- 벡터 데이터베이스를 활용한 고급 검색 기능
- Redis를 활용한 캐싱 및 세션 관리

### 2.2 웹 프론트엔드 (Web)
- React + Vite 기반의 SPA
- 실시간 데이터 시각화
- 반응형 사용자 인터페이스
- API 서버와의 실시간 통신

### 2.3 데이터 파이프라인 (Airflow)
- Apache Airflow 기반의 워크플로우 관리
- DART API를 통한 데이터 수집 자동화
- 데이터 전처리 및 벡터화
- 에러 모니터링 및 알림

### 2.4 모니터링 (Grafana)
- 시스템 메트릭 모니터링
- 데이터베이스 성능 모니터링
- 대시보드 기반 시각화
- 알림 설정 및 관리

## 3. 데이터 저장소

### 3.1 PostgreSQL
- 메인 데이터베이스 (API)
  - 기업 정보
  - 재무제표 데이터
  - 사용자 데이터
- Airflow 메타데이터 데이터베이스
  - DAG 실행 기록
  - 작업 상태 관리

### 3.2 Redis
- 세션 관리
- API 응답 캐싱
- 실시간 데이터 처리

### 3.3 벡터 데이터베이스
- 문서 임베딩 저장
- 시맨틱 검색 지원
- API 및 Airflow 서비스별 독립 저장소

## 4. 시스템 통신

### 4.1 내부 통신
- 서비스 간 통신: HTTP/REST
- 이벤트 기반 통신: Redis pub/sub
- 데이터베이스 연결: PostgreSQL 프로토콜

### 4.2 외부 통신
- DART API 연동
- 클라이언트-서버 통신: REST API
- 실시간 업데이트: WebSocket

## 5. 보안

### 5.1 인증/인가
- API 인증: JWT 토큰
- 세션 관리: Redis
- 권한 관리: RBAC (Role-Based Access Control)

### 5.2 데이터 보안
- 환경변수 기반 설정 관리
- 데이터베이스 접근 제어
- API 키 관리

## 6. 확장성

### 6.1 수평적 확장
- 컨테이너 기반 배포
- 서비스별 독립적 스케일링
- 로드 밸런싱 지원

### 6.2 수직적 확장
- 리소스 할당 조정
- 성능 모니터링 기반 최적화
- 캐싱 전략 적용

## 7. 운영 환경

### 7.1 개발 환경
- 로컬 개발 환경: Docker Compose
- 코드 버전 관리: Git
- CI/CD: GitHub Actions

### 7.2 프로덕션 환경
- 컨테이너 오케스트레이션
- 자동화된 배포 파이프라인
- 모니터링 및 로깅 시스템 